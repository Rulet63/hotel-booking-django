# üìã Hotel Booking API

Django REST API –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –Ω–æ–º–µ—Ä–∞–º–∏ –æ—Ç–µ–ª—è –∏ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è–º–∏. –ü—Ä–æ–µ–∫—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–º—É –∑–∞–¥–∞–Ω–∏—é –∏ –≤–∫–ª—é—á–∞–µ—Ç –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏.

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è
- Docker –∏ Docker Compose
- Python 3.12+ (–¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)

### –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞
```bash
# –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
git clone <repository-url>
cd hotel-booking-django

# –ó–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–æ–µ–∫—Ç —á–µ—Ä–µ–∑ Docker Compose
docker compose up -d

# –ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏ (–≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ)
docker compose exec web python manage.py migrate

# –°–æ–∑–¥–∞—Ç—å —Å—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
docker compose exec web python manage.py createsuperuser
```

–ü—Ä–æ–µ–∫—Ç –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É: http://localhost:8000

## üìö API –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–º–µ—Ä–∞–º–∏ –æ—Ç–µ–ª—è

#### 1. –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–º–µ—Ä–∞
```bash
POST /rooms/
```
**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `description` (string) - –æ–ø–∏—Å–∞–Ω–∏–µ –Ω–æ–º–µ—Ä–∞
- `price_per_night` (decimal) - —Ü–µ–Ω–∞ –∑–∞ –Ω–æ—á—å

**–ü—Ä–∏–º–µ—Ä:**
```bash
curl -X POST http://localhost:8000/rooms/ \
  -H "Content-Type: application/json" \
  -d '{"description": "–õ—é–∫—Å —Å –≤–∏–¥–æ–º –Ω–∞ –º–æ—Ä–µ", "price_per_night": 15000}'
```

**–û—Ç–≤–µ—Ç:**
```json
{
  "id": 1,
  "description": "–õ—é–∫—Å —Å –≤–∏–¥–æ–º –Ω–∞ –º–æ—Ä–µ",
  "price_per_night": "15000.00",
  "created_at": "2024-01-01T10:00:00Z"
}
```

#### 2. –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –Ω–æ–º–µ—Ä–æ–≤
```bash
GET /rooms/
```
**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏:**
- `ordering=price_per_night` - –ø–æ —Ü–µ–Ω–µ (–≤–æ–∑—Ä–∞—Å—Ç–∞–Ω–∏–µ)
- `ordering=-price_per_night` - –ø–æ —Ü–µ–Ω–µ (—É–±—ã–≤–∞–Ω–∏–µ)
- `ordering=created_at` - –ø–æ –¥–∞—Ç–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è (–≤–æ–∑—Ä–∞—Å—Ç–∞–Ω–∏–µ)
- `ordering=-created_at` - –ø–æ –¥–∞—Ç–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è (—É–±—ã–≤–∞–Ω–∏–µ)

**–ü—Ä–∏–º–µ—Ä:**
```bash
curl "http://localhost:8000/rooms/?ordering=price_per_night"
```

**–û—Ç–≤–µ—Ç (—Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π):**
```json
{
  "count": 10,
  "next": null,
  "previous": null,
  "results": [
    {
      "id": 1,
      "description": "–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –Ω–æ–º–µ—Ä",
      "price_per_night": "5000.00",
      "created_at": "2024-01-01T10:00:00Z"
    },
    ...
  ]
}
```

#### 3. –£–¥–∞–ª–µ–Ω–∏–µ –Ω–æ–º–µ—Ä–∞
```bash
DELETE /rooms/{id}/
```
**–ü—Ä–∏–º–µ—Ä:**
```bash
curl -X DELETE http://localhost:8000/rooms/1/
```

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –ü—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ –Ω–æ–º–µ—Ä–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–¥–∞–ª—è—é—Ç—Å—è –≤—Å–µ —Å–≤—è–∑–∞–Ω–Ω—ã–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è.

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è–º–∏

#### 4. –°–æ–∑–¥–∞–Ω–∏–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
```bash
POST /bookings/create
```
**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `room_id` (integer) - ID –Ω–æ–º–µ—Ä–∞ –æ—Ç–µ–ª—è
- `date_start` (date) - –¥–∞—Ç–∞ –Ω–∞—á–∞–ª–∞ –±—Ä–æ–Ω–∏ (—Ñ–æ—Ä–º–∞—Ç: YYYY-MM-DD)
- `date_end` (date) - –¥–∞—Ç–∞ –æ–∫–æ–Ω—á–∞–Ω–∏—è –±—Ä–æ–Ω–∏ (—Ñ–æ—Ä–º–∞—Ç: YYYY-MM-DD)

**–ü—Ä–∏–º–µ—Ä:**
```bash
curl -X POST -d "room_id=1&date_start=2024-12-25&date_end=2024-12-30" \
  http://localhost:8000/bookings/create
```

**–û—Ç–≤–µ—Ç:**
```json
{
  "booking_id": 1
}
```

#### 5. –£–¥–∞–ª–µ–Ω–∏–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
```bash
DELETE /bookings/{booking_id}/delete
```
**–ü—Ä–∏–º–µ—Ä:**
```bash
curl -X DELETE http://localhost:8000/bookings/1/delete
```

#### 6. –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π –Ω–æ–º–µ—Ä–∞
```bash
GET /bookings/list?room_id={room_id}
```
**–ü—Ä–∏–º–µ—Ä:**
```bash
curl "http://localhost:8000/bookings/list?room_id=1"
```

**–û—Ç–≤–µ—Ç (—Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π):**
```json
{
  "count": 2,
  "next": null,
  "previous": null,
  "results": [
    {
      "booking_id": 1,
      "date_start": "2024-12-25",
      "date_end": "2024-12-30"
    },
    {
      "booking_id": 2,
      "date_start": "2025-01-05",
      "date_end": "2025-01-10"
    }
  ]
}
```

## üõ† –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –õ–æ–∫–∞–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
poetry install

# –ê–∫—Ç–∏–≤–∞—Ü–∏—è –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è
poetry shell

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
cp .env.example .env
# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ .env —Ñ–∞–π–ª

# –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π
python src/manage.py migrate

# –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
python src/manage.py runserver
```

### –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
```bash
# –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤
docker compose exec web python -m pytest /app/tests/ -v

# –ò–ª–∏ –ª–æ–∫–∞–ª—å–Ω–æ (—Ç—Ä–µ–±—É–µ—Ç—Å—è PostgreSQL)
pytest tests/ -v
```

### –õ–∏–Ω—Ç–∏–Ω–≥ –∏ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–¥–∞
ruff check src/

# –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞
ruff format src/

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏–º–ø–æ—Ä—Ç–æ–≤
python check_imports.py
```

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
hotel-booking-django/
‚îú‚îÄ‚îÄ src/                    # –ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ Django
‚îÇ   ‚îú‚îÄ‚îÄ config/            # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞
‚îÇ   ‚îú‚îÄ‚îÄ rooms/             # –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–æ–º–µ—Ä–æ–≤ –æ—Ç–µ–ª—è
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ models.py      # –ú–æ–¥–µ–ª—å HotelRoom
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ views.py       # API —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –¥–ª—è –Ω–æ–º–µ—Ä–æ–≤
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ serializers.py # –°–µ—Ä–∏–∞–ª–∏–∑–∞—Ç–æ—Ä—ã
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ migrations/    # –ú–∏–≥—Ä–∞—Ü–∏–∏ –ë–î
‚îÇ   ‚îú‚îÄ‚îÄ bookings/          # –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ models.py      # –ú–æ–¥–µ–ª—å Booking
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ views.py       # API —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –¥–ª—è –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ serializers.py # –°–µ—Ä–∏–∞–ª–∏–∑–∞—Ç–æ—Ä—ã
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ migrations/    # –ú–∏–≥—Ä–∞—Ü–∏–∏ –ë–î
‚îÇ   ‚îî‚îÄ‚îÄ manage.py          # Django CLI
‚îú‚îÄ‚îÄ tests/                 # –¢–µ—Å—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ test_all.py        # –û—Å–Ω–æ–≤–Ω—ã–µ —Ç–µ—Å—Ç—ã API
‚îÇ   ‚îî‚îÄ‚îÄ conftest.py        # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ pytest
‚îú‚îÄ‚îÄ docker-compose.yml     # Docker Compose –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ Dockerfile            # Docker –æ–±—Ä–∞–∑ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ pyproject.toml        # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ Python (Poetry)
‚îî‚îÄ‚îÄ README.md            # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
```

## üóÑ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

–ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç PostgreSQL —Å –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã–º–∏ –∏–Ω–¥–µ–∫—Å–∞–º–∏ –¥–ª—è –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏:

```sql
-- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–≤–∞–µ–º—ã–µ –∏–Ω–¥–µ–∫—Å—ã:
-- bookings_booking_room_id_idx (–¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π –ø–æ –Ω–æ–º–µ—Ä—É)
-- bookings_booking_date_start_idx (–¥–ª—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ –ø–æ –¥–∞—Ç–µ –Ω–∞—á–∞–ª–∞)
-- rooms_hotelroom_created_at_idx (–¥–ª—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ –ø–æ –¥–∞—Ç–µ —Å–æ–∑–¥–∞–Ω–∏—è)
```

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

### –ü–∞–≥–∏–Ω–∞—Ü–∏—è
–í—Å–µ —Å–ø–∏—Å–∫–æ–≤—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç –ø–∞–≥–∏–Ω–∞—Ü–∏—é —á–µ—Ä–µ–∑ Django REST Framework. –§–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–∞:
```json
{
  "count": 100,
  "next": "http://api.example.org/rooms/?page=2",
  "previous": null,
  "results": [...]
}
```

### –í–∞–ª–∏–¥–∞—Ü–∏—è
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–æ—Ä–º–∞—Ç–∞ –¥–∞—Ç (YYYY-MM-DD)
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —á—Ç–æ `date_start` ‚â§ `date_end`
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è –Ω–æ–º–µ—Ä–∞ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –±—Ä–æ–Ω–∏
- –í–∞–ª–∏–¥–∞—Ü–∏—è —Ü–µ–Ω—ã (–¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ–π)

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
–í—Å–µ –æ—à–∏–±–∫–∏ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç—Å—è –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON:
```json
{
  "error": "–û–ø–∏—Å–∞–Ω–∏–µ –æ—à–∏–±–∫–∏",
  "details": {...}
}
```

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–ü—Ä–æ–µ–∫—Ç –≤–∫–ª—é—á–∞–µ—Ç –ø–æ–ª–Ω—ã–π –Ω–∞–±–æ—Ä —Ç–µ—Å—Ç–æ–≤:
- **–ú–æ–¥–µ–ª–∏**: –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏
- **–°–µ—Ä–∏–∞–ª–∏–∑–∞—Ç–æ—Ä—ã**: –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö
- **API**: –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã –≤—Å–µ—Ö —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤

–°—Ç–∞—Ç—É—Å —Ç–µ—Å—Ç–æ–≤: ![7/7 —Ç–µ—Å—Ç–æ–≤ –ø—Ä–æ—Ö–æ–¥—è—Ç](https://img.shields.io/badge/tests-7%2F7%20passed-brightgreen)

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License

## üë• –ê–≤—Ç–æ—Ä—ã

- –î–∞–≤–ª–µ—Ç–æ–≤ –°–∞–±–∏—Ç

## üôè –ë–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç–∏

- Django –∏ Django REST Framework
- PostgreSQL
- Docker —Å–æ–æ–±—â–µ—Å—Ç–≤–æ